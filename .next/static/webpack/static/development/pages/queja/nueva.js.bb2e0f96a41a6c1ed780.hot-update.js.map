{"version":3,"file":"static/webpack/static/development/pages/queja/nueva.js.bb2e0f96a41a6c1ed780.hot-update.js","sources":["webpack:///./pages/queja/nueva.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport { Form, Message } from 'semantic-ui-react'\r\nimport Layout from '../../components/Layout';\r\nimport factory from '../../bc/factory';\r\nimport web3 from '../../bc/web3';\r\nimport { Link, Router } from '../../routes';\r\n\r\nconst options = [\r\n  { key: 'm', text: 'Male', value: 'male' },\r\n  { key: 'f', text: 'Female', value: 'female' },\r\n  { key: 'o', text: 'Other', value: 'other' },\r\n]\r\n\r\nclass RegistroNuevaQueja extends Component {\r\n  state = {\r\n      descripcion: '',\r\n      nombre:'',\r\n      correo:'',\r\n      fecha:'0000-00-00',\r\n      errorMessage: '',\r\n      loading: false,\r\n      quejaNro: ''\r\n  };\r\n \r\n  onSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    this.setState.loading = ({ loading: true, errorMessage: \"\" });\r\n    \r\n    try {\r\n        this.setState({ quejaNro: 'Procesando queja' });\r\n    const accounts = await web3.eth.getAccounts();\r\n\r\n    await factory.methods\r\n        .registrarQueja(this.state.descripcion,this.state.nombre,this.state.correo,this.state.fecha)\r\n        .send({\r\n            from: accounts[0]\r\n        }).on('receipt', function(receipt){\r\n            console.log(receipt);\r\n        })\r\n        \r\n        /*\r\n        .then((receipt) => {\r\n            console.log(receipt);\r\n        });\r\n        */\r\n        /*\r\n        .on('receipt', function(receipt){\r\n            console.log(receipt.events);\r\n            console.log(receipt.events[0].raw.data);\r\n        }).on('error', function(error){\r\n            console.log(error);\r\n        });\r\n        */\r\n\r\n\r\n\r\n        this.setState({ quejaNro: \"Queja registrada bajo el numero...\" });\r\n        //Router.pushRoute('/');\r\n    } catch (err) {\r\n        this.setState({ errorMessage: err.message });\r\n    }\r\n\r\n    this.setState.loading = ({ loading: false });\r\n  }\r\n\r\n  handleChange = (e, { value }) => this.setState({ value })\r\n\r\n  render() {\r\n    const { value } = this.state\r\n    return (\r\n        <Layout>\r\n            <h3>Registro de Quejas</h3>\r\n            <Form onSubmit={this.onSubmit} error={!!this.state.errorMessage}>\r\n                <Form.Group widths='equal'>\r\n                <Form.Input fluid label='Nombre' placeholder='Nombre' \r\n                    value={this.state.nombre} \r\n                    onChange={event => this.setState({nombre: event.target.value})} />\r\n                <Form.Input fluid label='Correo-E' placeholder='Correo-E'\r\n                    value={this.state.correo} \r\n                    onChange={event => this.setState({correo: event.target.value})} />\r\n                <Form.Select fluid label='Tipo de Queja' options={options} placeholder='Seleccione' />\r\n                </Form.Group>\r\n                <Form.TextArea label='Queja' placeholder='Describa la queja...'\r\n                    value={this.state.descripcion} \r\n                    onChange={event => this.setState({descripcion: event.target.value})} />\r\n                <Form.Checkbox label='Estoy de acuerdo con los Terminos y Condiciones' />\r\n                <Message error negative>\r\n                    <Message.Header>Oops! un error inesperado ocurrio...</Message.Header>\r\n                    <p>{this.state.errorMessage}</p>\r\n                </Message>\r\n                <Form.Button loading={this.state.loading} primary>Enviar</Form.Button>\r\n                <Message info>\r\n                    <Message.Header>Datos de la queja</Message.Header>\r\n                    <p>{this.state.quejaNro}</p>\r\n                </Message>\r\n            </Form>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default RegistroNuevaQueja\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AACA;;;;;;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAHA;AACA;AAKA;AAAA;AAAA;AACA;AAPA;AAAA;AACA;AADA;AAOA;AAPA;AAAA;AAYA;AADA;AAGA;AACA;AACA;AAhBA;AAiBA;;;;;;AAKA;;;;;;;;AAWA;AAAA;AAAA;AACA;AACA;AAnCA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAmCA;AAAA;AAAA;AACA;AArCA;AAuCA;AAAA;AAAA;AACA;AAxCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAyCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AACA;AAAA;AACA;AADA;AAEA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAGA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAGA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AAAA;AAOA;;;;AAtFA;AACA;AAwFA;;;;A","sourceRoot":""}